[
  {
    "identifier": "ClassOrInterface",
    "pattern": ".*",
    "auxiliary_pattern": "#{package_name}",
    "subpatterns": [
      {
        "identifier": "Annotation",
        "pattern": "@Document",
        "subpatterns": [
          {
            "identifier": "AnnotationValuePair",
            "pattern": "collection",
            "auxiliary_pattern": "\"#{entity_name}\"",
            "subpatterns": [],
            "essential": true
          }
        ],
        "essential": true
      },
      {
        "identifier": "Field",
        "pattern": "#{field_name}",
        "auxiliary_pattern": "#{field_type}",
        "subpatterns": [],
        "callback": "let entity_name = ctx.get_variable(\"package_name\").unwrap() + \": \" + ctx.get_variable(\"entity_name\").unwrap();ctx.make_object(entity_name);let field_name = ctx.get_variable(\"field_name\").unwrap();let field_type = ctx.get_variable(\"field_type\").unwrap();ctx.make_attribute(entity_name, field_name, Some(field_type));",
        "essential": true
      }
    ],
    "essential": true
  }
]
